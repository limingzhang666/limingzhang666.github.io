---
title: 设计模式之禅-08-代理模式
copyright: true
related_posts: true
date: 2020-12-20 23:28:54
tags: 
	-代理模式
	-委托模式
categories: 设计模式之禅
---

## 代理模式（Proxy Pattern）

### 定义

Provide a surrogate or placeholder for another object to control access to it (为其他对象提供一种代理以控制对这个对象的访问)

#### 类图

![](/uploads/design_patterns/08proxy/proxy01.png)

- 代理模式也叫委托模式，他是一项基本设计技巧。 其他的很多模式都是在更特殊的场合下采用 委托模式

- Subject 抽象主题角色

  抽象主题类可以是抽象类，也可以是接口，是一个最普通的业务类型定义，没有特殊要求

- RealSubject 具体主题角色

  也叫 ： 被委托角色、被代理角色。是 业务逻辑的具体执行者

- Proxy 代理主题角色

  也叫做 委托类、代理类。它负责对真是角色的应用，把所有抽象主题类定义的方法限制委托给 真实主题角色卡实现， 

  并且在真实主题角色处理完毕 前后做预处理 以及善后处理 工作

  ```java
  // 代码清单12-6 抽象主题类
  public interface Subject {
      //定义一个方法
      public void request();
  }
  
  // 代码清单12-7 真实主题类
  public class RealSubject implements Subject {
      //实现方法
      public void request() {
      //业务逻辑处理
      }
  }
  // 代码清单12-8 代理类
  public class Proxy implements Subject {
      //要代理哪个实现类
      private Subject subject = null;
      //默认被代理者
      public Proxy(){
     	 this.subject = new Proxy();
      }
      //通过构造函数传递代理者
      public Proxy(Object...objects ){
      }
      //实现接口中定义的方法
      public void request() {
          this.before();
          this.subject.request();
          this.after();
      }
      //预处理
      private void before(){
     	 //do something
      }
      //善后处理
      private void after(){
      	//do something
      }
  }
  
  ```

  

